
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the Dahua API"
        >
    <title>å¤§è©± API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-50a9a2fd.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;graphql&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-0f1b28c5.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="graphql">graphql</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting started">Getting started</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#dev-endpoint" class="toc-h2 toc-link" data-title="æ¸¬è©¦æ©Ÿ(dev) endpoint:">æ¸¬è©¦æ©Ÿ(dev) endpoint:</a>
                  </li>
                  <li>
                    <a href="#prod-endpoint" class="toc-h2 toc-link" data-title="æ­£å¼æ©Ÿ(prod) endpoint:">æ­£å¼æ©Ÿ(prod) endpoint:</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#time" class="toc-h1 toc-link" data-title="Time">Time</a>
          </li>
          <li>
            <a href="#level" class="toc-h1 toc-link" data-title="é›£åº¦åˆ†ç´š Level">é›£åº¦åˆ†ç´š Level</a>
          </li>
          <li>
            <a href="#debugging" class="toc-h1 toc-link" data-title="Debugging">Debugging</a>
          </li>
          <li>
            <a href="#api" class="toc-h1 toc-link" data-title="åˆ†ç´šæ¸¬é©— API">åˆ†ç´šæ¸¬é©— API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#start-exam-mutation" class="toc-h2 toc-link" data-title="Start Exam - Mutation">Start Exam - Mutation</a>
                  </li>
                  <li>
                    <a href="#questions-query" class="toc-h2 toc-link" data-title="Questions - Query">Questions - Query</a>
                  </li>
                  <li>
                    <a href="#answer-question-mutation" class="toc-h2 toc-link" data-title="Answer Question - Mutation">Answer Question - Mutation</a>
                  </li>
                  <li>
                    <a href="#exams-query" class="toc-h2 toc-link" data-title="Exams - Query">Exams - Query</a>
                  </li>
                  <li>
                    <a href="#edit-exam-mutation" class="toc-h2 toc-link" data-title="Edit Exam - Mutation">Edit Exam - Mutation</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#api-2" class="toc-h1 toc-link" data-title="æ–‡ç« å£èªç·´ç¿’ API">æ–‡ç« å£èªç·´ç¿’ API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#start-exam-mutation-2" class="toc-h2 toc-link" data-title="Start Exam - Mutation">Start Exam - Mutation</a>
                  </li>
                  <li>
                    <a href="#upload-voice-query" class="toc-h2 toc-link" data-title="Upload Voice - Query">Upload Voice - Query</a>
                  </li>
                  <li>
                    <a href="#exams-query-2" class="toc-h2 toc-link" data-title="Exams - Query">Exams - Query</a>
                  </li>
                  <li>
                    <a href="#download-voice-query" class="toc-h2 toc-link" data-title="Download Voice - Query">Download Voice - Query</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#response" class="toc-h2 toc-link" data-title="Response">Response</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/slatedocs/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='getting-started'>Getting started</h1>
<p>Dahua APIsï¼Œç›®å‰æ¡ç”¨ <a href="https://graphql.org/">GraphQL</a> çš„æŠ€è¡“ï¼Œå¯ä»¥è®“ Client ç«¯æ¯”è¼ƒæœ‰å½ˆæ€§çš„é¸æ“‡éœ€è¦ä»€éº¼è³‡æ–™ï¼Œå¯ä»¥é¿å…è³‡æºæµªè²»ã€‚
ç›®å‰æœ‰å…©ç¨® APIsï¼š</p>

<ol>
<li>åˆ†ç´šæ¸¬é©— API</li>
<li>æ–‡ç« å£èªç·´ç¿’ API</li>
</ol>
<h2 id='dev-endpoint'>æ¸¬è©¦æ©Ÿ(dev) endpoint:</h2>
<p><code>https://bmxybfldb5bjdickj2z5gtm2ui.appsync-api.ap-southeast-1.amazonaws.com/graphql</code></p>
<h2 id='prod-endpoint'>æ­£å¼æ©Ÿ(prod) endpoint:</h2>
<p><code>é‚„æ²’æ¶ï¼Œé è¨ˆæ˜å¹´åˆé–‹å§‹æ¶</code> ğŸ˜†</p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>è«‹æŠŠä»¥ä¸‹é€™å€‹æ”¾åˆ° GraphQL Query/Mutation çš„ Headers è£¡é¢</p>
</blockquote>
<div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="p">{</span><span class="w">
  </span><span class="err">"</span><span class="n">x</span><span class="err">-</span><span class="n">api</span><span class="err">-</span><span class="n">key</span><span class="err">":</span><span class="w"> </span><span class="err">"</span><span class="n">yourApiKey</span><span class="err">"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Dahua GraphQL API è¦æ±‚æ¯ä¸€å€‹ request å¿…é ˆè¦æœ‰æœªéæœŸçš„ API KEY.</p>

<p><code>x-api-key: yourApiKey</code></p>

<aside class="notice">
API KEY æ¯ä¸€å¹´éœ€è¦æ›´æ–°ä¸€æ¬¡ (æ‰¾ Wilson æ‹¿ API KEY.)
</aside>
<h1 id='time'>Time</h1>
<p>å› ç‚ºç”¨æˆ¶å¯èƒ½ä¾†è‡ªä¸–ç•Œå„åœ°ï¼Œæ‰€ä»¥åœ¨é€™å€‹ç³»çµ±ä¸­çš„æ‰€æœ‰ <code>startTime</code> éƒ½æ˜¯ <a href="https://www.epochconverter.com/">epoch timestamp</a> çš„å½¢å¼ (ä¾‹å¦‚ <code>1698117168</code>)ï¼ŒClient ç«¯è¦å†æ ¹æ“šç”¨æˆ¶çš„æ™‚å€è½‰æ›æ™‚é–“ã€‚</p>
<h1 id='level'>é›£åº¦åˆ†ç´š Level</h1>
<p>å¤§è©±çš„é›£åº¦åˆ†ç´šç¸½å…±æœ‰ä¸ƒç´šï¼Œä»¥ä¸‹æ˜¯ Level ID å°ç…§è¡¨ã€‚</p>

<table><thead>
<tr>
<th>LevelId</th>
<th>Level</th>
</tr>
</thead><tbody>
<tr>
<td><code>TOCFL1:HSK2</code></td>
<td>Novice</td>
</tr>
<tr>
<td><code>TOCFL2:HSK3</code></td>
<td>Beginner</td>
</tr>
<tr>
<td><code>TOCFL3:HSK4</code></td>
<td>Elementary</td>
</tr>
<tr>
<td><code>TOCFL4:HSK5</code></td>
<td>Intermediate</td>
</tr>
<tr>
<td><code>TOCFL5:HSK6</code></td>
<td>Upper-intermediate</td>
</tr>
<tr>
<td><code>TOCFL6:HSK7-9</code></td>
<td>Advanced</td>
</tr>
<tr>
<td><code>TOCFL7:HSK7-9</code></td>
<td>Challenge</td>
</tr>
</tbody></table>
<h1 id='debugging'>Debugging</h1>
<p>æ‰€æœ‰çš„ APIs éƒ½æœƒå›å‚³ <code>requestId</code>ï¼Œå¦‚æœé–‹ç™¼éç¨‹é‡åˆ°å•é¡Œï¼Œå¯ä»¥æä¾› <code>requestId</code> çµ¦å¤§è©±ï¼Œå¤§è©±çš„å·¥ç¨‹å¸«æœƒæ ¹æ“š <code>requestId</code> å»æª¢æŸ¥ logsã€‚</p>
<div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">query</span><span class="w"> </span><span class="n">exams</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">exams</span><span class="p">(</span><span class="n">accountId</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="p">,</span><span class="w"> </span><span class="n">withDetails</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">error</span><span class="w">
    </span><span class="n">message</span><span class="w">
    </span><span class="n">requestId</span><span class="w">
    </span><span class="n">exams</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">accountId</span><span class="w">
      </span><span class="n">sk</span><span class="w">
      </span><span class="n">startTime</span><span class="w">
      </span><span class="n">status</span><span class="w">
      </span><span class="n">completedTime</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>ä»¥ä¸Šçš„ exams query æœƒå›å‚³ä»¥ä¸‹ JSONï¼ŒåŒ…å« requestId:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"exams"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a5b92b87-d574-46d6-a7a8-1225b0b4cf51"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"exams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exam:DETERMINE_LEVEL:ts:1699423781"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1699423781</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"completedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1699423820</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='api'>åˆ†ç´šæ¸¬é©— API</h1>
<p>ä»¥ä¸‹æ˜¯ &quot;åˆ†ç´šæ¸¬é©— API&quot; çš„æµç¨‹åœ–ã€‚</p>

<p><img src="images/exam-0bb2414a.svg" alt="åˆ†ç´šæ¸¬é©— API" /></p>
<h2 id='start-exam-mutation'>Start Exam - Mutation</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">mutation</span><span class="w"> </span><span class="n">startExam</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">startExam</span><span class="p">(</span><span class="n">accountId</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="p">,</span><span class="w"> </span><span class="n">examType</span><span class="p">:</span><span class="w"> </span><span class="n">DETERMINE_LEVEL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">error</span><span class="w">
    </span><span class="n">message</span><span class="w">
    </span><span class="n">exam</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">accountId</span><span class="w">
      </span><span class="n">sk</span><span class="w">
      </span><span class="n">startTime</span><span class="w">
      </span><span class="n">nextQuestionNumber</span><span class="w">
      </span><span class="n">nextQuestionId</span><span class="w">
      </span><span class="n">status</span><span class="w">
      </span><span class="n">type</span><span class="w">
      </span><span class="n">remainingNumOfQuestion</span><span class="w">
      </span><span class="n">totalNumOfQuestion</span><span class="w">
      </span><span class="n">questionDetails</span><span class="w">
      </span><span class="n">achievedLevel</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>ä»¥ä¸Šçš„ startExam mutation æœƒå›å‚³ä»¥ä¸‹ JSON:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"startExam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"exam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exam:DETERMINE_LEVEL:ts:1698090652"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1698090652</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nextQuestionNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nextQuestionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1:HSK2:SA|1000000021"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN_PROGRESS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DETERMINE_LEVEL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"questionDetails"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"achievedLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1, HSK2"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>startExam mutation æœƒé–‹å•Ÿä¸€å€‹æ–°çš„è€ƒè©¦ï¼Œä¸€å€‹å­¸ç”Ÿå¯ä»¥æœ‰å¤šå€‹è€ƒè©¦ã€‚
<code>examType</code> é€™è£¡é è¨­ç‚º <code>DETERMINE_LEVEL</code>
é–‹å•Ÿä¸€å€‹è€ƒè©¦å¾Œï¼ŒAPI æœƒå›å‚³ä¸‹ä¸€é¡Œçš„é¡Œç›® ID(<code>nextQuestionId</code>)</p>

<p>è€ƒè©¦ç‹€æ…‹(<code>status</code>) æœ‰ 3 ç¨®(<code>IN_PROGRESS</code>, <code>COMPLETED</code>, <code>CANCELED</code>)</p>

<p>è€ƒè©¦é¡å‹(<code>type</code>) æœ‰ 2 ç¨®(<code>DETERMINE_LEVEL</code>, <code>ARTICLE_SPEECH_PRACTICE</code>)</p>
<h3 id='mutation-input-parameters'>Mutation Input Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId (required)</td>
<td>string</td>
<td>ç™»å…¥å¸³è™Ÿ ID</td>
</tr>
<tr>
<td>examType (required)</td>
<td>enum</td>
<td>è€ƒè©¦ç¨®é¡(ç›®å‰åªæœ‰<code>DETERMINE_LEVEL</code>è·Ÿ<code>ARTICLE_SPEECH_PRACTICE</code>)</td>
</tr>
</tbody></table>

<aside class="success">
æ³¨æ„ â€” examType æ˜¯ GraphQL enum type
</aside>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>string</td>
<td>ç™»å…¥å¸³è™Ÿ ID</td>
</tr>
<tr>
<td>sk</td>
<td>string</td>
<td>ç•¶å‰æ¸¬é©—çš„ sort key</td>
</tr>
<tr>
<td>startTime</td>
<td>string</td>
<td>ç•¶å‰æ¸¬é©—çš„é–‹å§‹æ™‚é–“</td>
</tr>
<tr>
<td>nextQuestionNumber</td>
<td>Int</td>
<td>ä¸‹ä¸€é¡Œçš„é¡Œè™Ÿ (1, 2, 3, 4...)</td>
</tr>
<tr>
<td>nextQuestionId</td>
<td>string</td>
<td>ä¸‹ä¸€é¡Œçš„é¡Œç›® ID</td>
</tr>
<tr>
<td>status</td>
<td>enum</td>
<td>è€ƒè©¦ç‹€æ…‹(ç›®å‰åªæœ‰<code>IN_PROGRESS</code>, <code>COMPLETED</code>, <code>CANCELED</code>)</td>
</tr>
<tr>
<td>type</td>
<td>enum</td>
<td>è€ƒè©¦ç¨®é¡(ç›®å‰åªæœ‰<code>DETERMINE_LEVEL</code>, <code>ARTICLE_SPEECH_PRACTICE</code>)</td>
</tr>
<tr>
<td>remainingNumOfQuestion</td>
<td>Int</td>
<td>ç•¶å‰æ¸¬é©—å‰©ä¸‹é¡Œæ•¸</td>
</tr>
<tr>
<td>totalNumOfQuestion</td>
<td>Int</td>
<td>ç•¶å‰æ¸¬é©—ç¸½å…±çš„é¡Œæ•¸</td>
</tr>
<tr>
<td>questionDetails</td>
<td>AWSJSON</td>
<td>ç•¶å‰æ¸¬é©—çš„è€ƒè©¦ç´°ç¯€ï¼ŒåŒ…å«å­¸ç”Ÿé¸æ“‡çš„ç­”æ¡ˆèˆ‡æ­£ç¢ºç­”æ¡ˆ</td>
</tr>
<tr>
<td>achievedLevel</td>
<td>string</td>
<td>å­¸ç”Ÿé”åˆ°çš„ç¨‹åº¦</td>
</tr>
</tbody></table>
<h2 id='questions-query'>Questions - Query</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">query</span><span class="w"> </span><span class="n">questions</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">questions</span><span class="p">(</span><span class="n">questionId</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1:HSK2:SA|1000000021"</span><span class="p">,</span><span class="w"> </span><span class="n">isTW</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">questions</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">levelId</span><span class="w">
      </span><span class="n">level</span><span class="w">
      </span><span class="n">sk</span><span class="w">
      </span><span class="n">HSKLevel</span><span class="w">
      </span><span class="n">questionId</span><span class="w">
      </span><span class="n">TocflLevel</span><span class="w">
      </span><span class="n">question</span><span class="w">
      </span><span class="n">reference</span><span class="w">
      </span><span class="n">source</span><span class="w">
      </span><span class="n">type</span><span class="w">
      </span><span class="n">options</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="n">error</span><span class="w">
    </span><span class="n">message</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>ä»¥ä¸Šçš„ questions query æœƒå›å‚³ä»¥ä¸‹ JSON:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"questions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"questions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"levelId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1:HSK2:SA"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1, HSK2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000021"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"HSKLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"TocflLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"questionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1:HSK2:SA|1000000021"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"è¿™ç§é±¼___å¹´æ˜¥å¤©æœ€å¤šï¼Œç”·äººä»¬ä¼šä¸€èµ·æ­èˆ¹å»æµ·ä¸Šæ‰¾é±¼ã€‚"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"è¿™ç§é±¼___å¹´æ˜¥å¤©æœ€å¤šï¼Œç”·äººä»¬ä¼šä¸€èµ·æ­èˆ¹å»æµ·ä¸Šæ‰¾é±¼ã€‚"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFLè€ƒé¡Œ"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SA"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"options"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">æ²¡æœ‰</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">B</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">æ¯</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">C</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">å‡ </span><span class="se">\"</span><span class="s2">}"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Questions query API å¯ä»¥æ ¹æ“š input parameters å›å‚³ä¸€å€‹æˆ–æ˜¯å¤šå€‹è€ƒé¡Œï¼Œå¦‚æœæœ‰æ”¶åˆ°<code>questionId</code> çš„è©±å°±åªæœƒå›å‚³ä¸€å€‹è€ƒé¡Œã€‚</p>
<h3 id='query-input-parameters'>Query Input Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>questionId (required)</td>
<td>string</td>
<td>è€ƒé¡Œ IDï¼Œé€™æ˜¯å”¯ä¸€çš„</td>
</tr>
<tr>
<td>levelId (optional)</td>
<td>string</td>
<td>ç¨‹åº¦ ID (å¿…é ˆé…åˆ <code>sk</code> æˆ–æ˜¯ (<code>skFrom</code> + <code>skTo</code>))</td>
</tr>
<tr>
<td>sk (optional)</td>
<td>string</td>
<td>sort keyï¼Œæ¯ä¸€å€‹ç¨‹åº¦æœƒæœ‰å¤šå€‹ sort keyï¼Œä»£è¡¨æ¯ä¸€å€‹ç¨‹åº¦æœƒæœ‰å¤šå€‹è€ƒé¡Œ</td>
</tr>
<tr>
<td>skFrom (optional)</td>
<td>string</td>
<td>èµ·å§‹ sort key</td>
</tr>
<tr>
<td>skTo (optional)</td>
<td>string</td>
<td>æœ€çµ‚ sort key</td>
</tr>
<tr>
<td>isTW (optional)</td>
<td>boolean</td>
<td>é è¨­ç‚º false(å›å‚³ç°¡é«”ä¸­æ–‡)ï¼Œtrue å›å‚³ç¹é«”ä¸­æ–‡</td>
</tr>
</tbody></table>

<aside class="warning">ç›®å‰æš«æ™‚ä¸ç”¨ç†æœƒ <code>levelId</code>, <code>sk</code>, <code>skFrom</code>, <code>skTo</code> (æ­£åœ¨é–‹ç™¼ä¸­ ğŸ› ï¸ )</aside>
<h3 id='response-2'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>levelId</td>
<td>string</td>
<td>è€ƒé¡Œçš„ç¨‹åº¦ Id</td>
</tr>
<tr>
<td>level</td>
<td>string</td>
<td>è€ƒé¡Œçš„ç¨‹åº¦ (<code>TOCFL1, HSK2</code>, <code>TOCFL2, HSK3</code>...)</td>
</tr>
<tr>
<td>sk</td>
<td>string</td>
<td>è€ƒé¡Œçš„ sort key</td>
</tr>
<tr>
<td>HSKLevel</td>
<td>string</td>
<td>HSK ç¨‹åº¦</td>
</tr>
<tr>
<td>TocflLevel</td>
<td>string</td>
<td>Tocf ç¨‹åº¦</td>
</tr>
<tr>
<td>questionId</td>
<td>string</td>
<td>è€ƒé¡Œ IDï¼Œé€™æ˜¯å”¯ä¸€çš„</td>
</tr>
<tr>
<td>question</td>
<td>string</td>
<td>è€ƒé¡Œé¡Œç›®</td>
</tr>
<tr>
<td>reference</td>
<td>string</td>
<td>è€ƒé¡Œçš„åƒè€ƒ(ä¾‹å¦‚: é–±è®€æ¸¬é©—çš„æ–‡ç« )</td>
</tr>
<tr>
<td>source</td>
<td>string</td>
<td>ç•¶å‰æ¸¬é©—çš„è€ƒè©¦ç´°ç¯€ï¼ŒåŒ…å«å­¸ç”Ÿé¸æ“‡çš„ç­”æ¡ˆèˆ‡æ­£ç¢ºç­”æ¡ˆ</td>
</tr>
<tr>
<td>type</td>
<td>enum</td>
<td>è€ƒé¡Œçš„ç¸½é¡ï¼Œç›®å‰æœ‰(å–®é¸é¡Œ<code>SA</code>, å¤šé¸é¡Œ<code>MA</code>)</td>
</tr>
<tr>
<td>options</td>
<td>AWSJSON</td>
<td>é€™æ˜¯ä¸€å€‹åŒ…å«æ‰€æœ‰é¸é …çš„ JSON</td>
</tr>
</tbody></table>
<h2 id='answer-question-mutation'>Answer Question - Mutation</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">mutation</span><span class="w"> </span><span class="n">answerQuestion</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">answerQuestion</span><span class="p">(</span><span class="w">
    </span><span class="n">accountId</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="w">
    </span><span class="n">sk</span><span class="p">:</span><span class="w"> </span><span class="s2">"exam:DETERMINE_LEVEL:ts:1698090652"</span><span class="w">
    </span><span class="n">questionId</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1:HSK2:SA|1000000021"</span><span class="w">
    </span><span class="n">studentAnswers</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"A"</span><span class="p">]</span><span class="w">
  </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">nextQuestionId</span><span class="w">
    </span><span class="n">remainingNumOfQuestion</span><span class="w">
    </span><span class="n">nextLevel</span><span class="w">
    </span><span class="n">achievedLevel</span><span class="w">
    </span><span class="n">examStatus</span><span class="w">
    </span><span class="n">message</span><span class="w">
    </span><span class="n">error</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>ä»¥ä¸Šçš„ answerQuestion mutation æœƒå›å‚³ä»¥ä¸‹ JSON:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"answerQuestion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"nextQuestionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1:HSK2:SA|1000000017"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"remainingNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"nextLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1, HSK2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"achievedLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1, HSK2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"examStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN_PROGRESS"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>æ¸¬é©—çµæŸçš„ Response å¦‚ä¸‹ï¼š</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"answerQuestion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"nextQuestionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"remainingNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"nextLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"achievedLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1, HSK2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"examStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Answer Question mutation å¯ä»¥è®“å­¸ç”Ÿå›ç­”è€ƒé¡Œã€‚
æ¯ä¸€æ¬¡çš„ API call éƒ½æœƒå›å‚³ä¸‹ä¸€é¡Œçš„é¡Œç›® ID (<code>nextQuestionId</code>) èˆ‡æ¸¬é©—ç‹€æ…‹ (<code>examStatus</code>)ï¼Œç•¶ <code>nextQuestionId</code> ç­‰æ–¼ç©ºå­—ä¸²(<code>&quot;&quot;</code>) ä¸¦ä¸” <code>examStatus</code> ç­‰æ–¼ <code>COMPLETED</code>ï¼Œä»£è¡¨æ¸¬é©—çµæŸï¼Œä¸¦ä¸”æœ€çµ‚ç¨‹åº¦ (<code>achievedLevel</code>) å°±æ˜¯å­¸ç”Ÿçš„ç¨‹åº¦ã€‚</p>
<h3 id='mutation-input-parameters-2'>Mutation Input Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>string</td>
<td>ç™»å…¥å¸³è™Ÿ ID</td>
</tr>
<tr>
<td>sk</td>
<td>string</td>
<td>è€ƒè©¦çš„ sort key</td>
</tr>
<tr>
<td>questionId</td>
<td>string</td>
<td>é¡Œç›® ID</td>
</tr>
<tr>
<td>studentAnswers</td>
<td>Array of String</td>
<td>å­¸ç”Ÿçš„ç­”æ¡ˆ (<code>[&#39;A&#39;, &#39;C&#39;]</code>...)</td>
</tr>
</tbody></table>
<h3 id='response-3'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>nextQuestionId</td>
<td>string</td>
<td>ä¸‹ä¸€é¡Œè€ƒé¡Œçš„ ID</td>
</tr>
<tr>
<td>remainingNumOfQuestion</td>
<td>Int</td>
<td>ç•¶å‰æ¸¬é©—å‰©ä¸‹é¡Œæ•¸</td>
</tr>
<tr>
<td>nextLevel</td>
<td>string</td>
<td>ä¸‹ä¸€é¡Œè€ƒé¡Œçš„é›£åº¦</td>
</tr>
<tr>
<td>achievedLevel</td>
<td>string</td>
<td>å­¸ç”Ÿé”åˆ°çš„ç¨‹åº¦</td>
</tr>
<tr>
<td>examStatus</td>
<td>enum</td>
<td>ç•¶å‰æ¸¬é©—çš„ç‹€æ…‹</td>
</tr>
</tbody></table>
<h2 id='exams-query'>Exams - Query</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">query</span><span class="w"> </span><span class="n">exams</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">exams</span><span class="p">(</span><span class="n">accountId</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="p">,</span><span class="w"> </span><span class="n">withDetails</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">error</span><span class="w">
    </span><span class="n">message</span><span class="w">
    </span><span class="n">exams</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">accountId</span><span class="w">
      </span><span class="n">sk</span><span class="w">
      </span><span class="n">nextQuestionId</span><span class="w">
      </span><span class="n">questionDetails</span><span class="w">
      </span><span class="n">remainingNumOfQuestion</span><span class="w">
      </span><span class="n">startTime</span><span class="w">
      </span><span class="n">completedTime</span><span class="w">
      </span><span class="n">status</span><span class="w">
      </span><span class="n">totalNumOfQuestion</span><span class="w">
      </span><span class="n">achievedLevel</span><span class="w">
      </span><span class="n">type</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>ä»¥ä¸Šçš„ exams query æœƒå›å‚³ä»¥ä¸‹ JSON:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"exams"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"exams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exam:DETERMINE_LEVEL:ts:1698090545"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"nextQuestionId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"questionDetails"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"remainingNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1698090545</span><span class="p">,</span><span class="w">
          </span><span class="nl">"completedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1699423820</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"achievedLevel"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DETERMINE_LEVEL"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exam:DETERMINE_LEVEL:ts:1698090652"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"nextQuestionId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"questionDetails"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"remainingNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1698090652</span><span class="p">,</span><span class="w">
          </span><span class="nl">"completedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1699423920</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"achievedLevel"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DETERMINE_LEVEL"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>å¦‚æœ withDetails æ˜¯ true çš„è©±ï¼Œæœƒå›å‚³ä»¥ä¸‹ JSONï¼š</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"exams"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"exams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exam:DETERMINE_LEVEL:ts:1698090545"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"nextQuestionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"questionDetails"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">1</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">sk</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1000000002</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">correctAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">studentAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">level</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1, HSK2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">levelId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1:HSK2:SA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">isCorrect</span><span class="se">\"</span><span class="s2">:true},</span><span class="se">\"</span><span class="s2">2</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">sk</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1000000013</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">correctAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">B</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">studentAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">level</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1, HSK2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">levelId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1:HSK2:SA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">isCorrect</span><span class="se">\"</span><span class="s2">:false},</span><span class="se">\"</span><span class="s2">3</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">sk</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1000000004</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">correctAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">studentAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">level</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1, HSK2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">levelId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1:HSK2:SA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">isCorrect</span><span class="se">\"</span><span class="s2">:true},</span><span class="se">\"</span><span class="s2">consecutiveWrong</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">consecutiveCorrect</span><span class="se">\"</span><span class="s2">:1}"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"remainingNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1698090545</span><span class="p">,</span><span class="w">
          </span><span class="nl">"completedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1699423820</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
          </span><span class="nl">"achievedLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1, HSK2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DETERMINE_LEVEL"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exam:DETERMINE_LEVEL:ts:1698090652"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"nextQuestionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"questionDetails"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">1</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">sk</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1000000021</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">correctAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">B</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">studentAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">level</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1, HSK2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">levelId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1:HSK2:SA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">isCorrect</span><span class="se">\"</span><span class="s2">:false},</span><span class="se">\"</span><span class="s2">2</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">sk</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1000000017</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">correctAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">studentAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">level</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1, HSK2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">levelId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1:HSK2:SA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">isCorrect</span><span class="se">\"</span><span class="s2">:true},</span><span class="se">\"</span><span class="s2">3</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">sk</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1000000002</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">correctAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">studentAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">level</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1, HSK2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">levelId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1:HSK2:SA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">isCorrect</span><span class="se">\"</span><span class="s2">:true},</span><span class="se">\"</span><span class="s2">consecutiveWrong</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">consecutiveCorrect</span><span class="se">\"</span><span class="s2">:0}"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"remainingNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1698090652</span><span class="p">,</span><span class="w">
          </span><span class="nl">"completedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1699423920</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
          </span><span class="nl">"achievedLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1, HSK2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DETERMINE_LEVEL"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Exam query å¯ä»¥æ ¹æ“š input parameters å›å‚³å­¸ç”Ÿçš„ &quot;ä¸€å€‹&quot; æˆ– &quot;å¤šå€‹&quot; è€ƒé¡Œæ­·å²ç´€éŒ„ã€‚</p>

<ol>
<li> ç•¶ä½ åªæä¾› <code>accountId</code> çš„æƒ…æ³ä¸‹ï¼ŒExam API æœƒå›å‚³é€™å€‹ç™»éŒ„å¸³è™Ÿä¸‹ &quot;æ‰€æœ‰&quot; çš„æ¸¬é©—æ­·å²ç´€éŒ„ã€‚</li>
<li> ç•¶ä½ æé€š <code>accountId</code> + <code>sk</code> çš„æƒ…æ³ä¸‹ï¼ŒExam API æœƒå›å‚³é€™å€‹ç™»éŒ„å¸³è™Ÿä¸‹ &quot;ä¸€å€‹&quot; æ¸¬é©—è¨˜éŒ„ã€‚</li>
</ol>

<p>æ¯”è¼ƒæ¨è–¦çš„åšæ³•æ˜¯ï¼Œå¯ä»¥å…ˆä¸å‚³<code>withDetails</code>(é è¨­ç‚º<code>false</code>)ï¼Œä¸¦ä¸”æ‹¿åˆ°å­¸ç”Ÿçš„å¤šå€‹æ¸¬é©—æ­·å²å¾Œï¼Œåœ¨è®“å­¸ç”Ÿé»é¸æŸä¸€å€‹æ¸¬é©—ï¼Œé€™æ™‚å€™åœ¨æŠŠ <code>withDetails</code>è¨­å®šç‚º<code>true</code> ä¸¦ä¸”å‚³(<code>accountId</code> + <code>sk</code>(å­¸ç”Ÿé¸ä¸­çš„ sk))çµ¦ Exam APIï¼Œé€™æ™‚ Exam API å°±æœƒæŠŠæ‰€æœ‰æ¸¬é©—ç´°ç¯€å›å‚³çµ¦å­¸ç”Ÿã€‚</p>
<h3 id='mutation-input-parameters-3'>Mutation Input Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId (required)</td>
<td>string</td>
<td>ç™»å…¥å¸³è™Ÿ ID</td>
</tr>
<tr>
<td>sk (optional)</td>
<td>string</td>
<td>æ¸¬é©—çš„ sort key</td>
</tr>
<tr>
<td>examType (optional)</td>
<td>enum</td>
<td>è€ƒè©¦ç¨®é¡(ç›®å‰åªæœ‰<code>DETERMINE_LEVEL</code>è·Ÿ<code>ARTICLE_SPEECH_PRACTICE</code>)</td>
</tr>
<tr>
<td>withDetails (é è¨­ç‚º false)</td>
<td>boolean</td>
<td>å­¸ç”Ÿçš„ç­”æ¡ˆ</td>
</tr>
</tbody></table>

<aside class="success">
 æ³¨æ„ - <code>withDetails</code> é è¨­ç‚º <code>false</code> (API éŸ¿æ‡‰é€Ÿåº¦è¼ƒå¿«)ï¼Œç•¶éœ€è¦å–å¾—å­¸ç”Ÿçš„ä½œç­”è¨˜éŒ„æ™‚ï¼Œåœ¨æŠŠ <code>withDetails</code> è¨­å®šç‚º <code>true</code>ã€‚
</aside>
<h3 id='response-4'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>string</td>
<td>ç™»å…¥å¸³è™Ÿ ID</td>
</tr>
<tr>
<td>sk</td>
<td>string</td>
<td>æ¸¬é©—çš„ sort key</td>
</tr>
<tr>
<td>nextQuestionId</td>
<td>string</td>
<td>ä¸‹ä¸€é¡Œè€ƒé¡Œçš„ Id</td>
</tr>
<tr>
<td>questionDetails</td>
<td>AWSJSON</td>
<td>ç•¶å‰æ¸¬é©—çš„è€ƒè©¦ç´°ç¯€ï¼ŒåŒ…å«å­¸ç”Ÿé¸æ“‡çš„ç­”æ¡ˆèˆ‡æ­£ç¢ºç­”æ¡ˆ</td>
</tr>
<tr>
<td>remainingNumOfQuestion</td>
<td>Int</td>
<td>ç•¶å‰æ¸¬é©—å‰©ä¸‹é¡Œæ•¸</td>
</tr>
<tr>
<td>startTime</td>
<td>Int</td>
<td>ç•¶å‰æ¸¬é©—çš„é–‹å§‹æ™‚é–“</td>
</tr>
<tr>
<td>completedTime</td>
<td>Int</td>
<td>ç•¶å‰æ¸¬é©—çš„å®Œæˆæ™‚é–“</td>
</tr>
<tr>
<td>status</td>
<td>enum</td>
<td>ç•¶å‰æ¸¬é©—çš„ç‹€æ…‹</td>
</tr>
<tr>
<td>totalNumOfQuestion</td>
<td>Int</td>
<td>ç•¶å‰æ¸¬é©—ç¸½å…±çš„é¡Œæ•¸æ…‹</td>
</tr>
<tr>
<td>achievedLevel</td>
<td>String</td>
<td>å­¸ç”Ÿé”åˆ°çš„ç¨‹åº¦</td>
</tr>
<tr>
<td>type</td>
<td>enum</td>
<td>ç•¶å‰æ¸¬é©—çš„ç¨®é¡</td>
</tr>
</tbody></table>
<h2 id='edit-exam-mutation'>Edit Exam - Mutation</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">mutation</span><span class="w"> </span><span class="n">editExam</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">editExam</span><span class="p">(</span><span class="w">
    </span><span class="n">accountId</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="w">
    </span><span class="n">sk</span><span class="p">:</span><span class="w"> </span><span class="s2">"exam:DETERMINE_LEVEL:ts:1698348846"</span><span class="w">
    </span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="n">CANCELED</span><span class="w">
  </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">error</span><span class="w">
    </span><span class="n">message</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>ä»¥ä¸Šçš„ editExam mutation æœƒå›å‚³ä»¥ä¸‹ JSON:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"editExam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Edited the exam successfully."</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Edit exam mutation å¯ä»¥ä¿®æ”¹æ¸¬é©—ï¼Œç›®å‰åªå…è¨±ä¿®æ”¹ <code>status</code>ï¼Œæœªä¾†å¯èƒ½æœƒåŠ ä¸Šæ›´å¤šå¯è¢«ä¿®æ”¹çš„é …ç›®ã€‚</p>

<p>å­¸ç”Ÿå¯ä»¥æŠŠ <code>status</code> è¨­æˆ <code>CANCELED</code> å–æ¶ˆè€ƒè©¦ï¼Œè¢«å–æ¶ˆçš„è€ƒè©¦æœƒåœ¨ä¸ƒå¤©å¾Œå¾è³‡æ–™åº«ä¸­æ°¸ä¹…åˆªé™¤ã€‚</p>

<p>è€ƒè©¦è¢«å­¸ç”Ÿå–æ¶ˆçš„ä¸ƒå¤©å…§ï¼Œå­¸ç”Ÿå¯ä»¥æŠŠ <code>status</code> å¾ <code>CANCELED</code> è¨­æˆ <code>IN_PROGRESS</code> æŠŠè€ƒè©¦é‡æ–°æ¿€æ´»ä¸¦ç¹¼çºŒä½œç­”ã€‚</p>
<h3 id='mutation-input-parameters-4'>Mutation Input Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId (required)</td>
<td>string</td>
<td>ç™»å…¥å¸³è™Ÿ ID</td>
</tr>
<tr>
<td>sk (required)</td>
<td>string</td>
<td>æ¸¬é©—çš„ sort key</td>
</tr>
<tr>
<td>status</td>
<td>enum</td>
<td>æƒ³è¦æ”¹æˆçš„ç‹€æ…‹(ç›®å‰åªæœ‰<code>IN_PROGRESS</code>, <code>COMPLETED</code>, <code>CANCELED</code>)</td>
</tr>
</tbody></table>
<h3 id='response-5'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>error</td>
<td>boolean</td>
<td>æ˜¯å¦æœ‰ Error</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>Error è¨Šæ¯</td>
</tr>
</tbody></table>
<h1 id='api-2'>æ–‡ç« å£èªç·´ç¿’ API</h1>
<p>ä»¥ä¸‹æ˜¯ &quot;æ–‡ç« å£èªç·´ç¿’ API&quot; çš„æµç¨‹åœ–ï¼Œè—è‰²è™›ç·šä»£è¡¨ç•°æ­¥(async)çš„åœ¨å¾Œç«¯åŸ·è¡Œï¼Œå† å¯Œåªæœ‰ç¬¬ä¸‰æ­¥éœ€è¦ç›´æ¥ä¸Šå‚³ mp3 æª”åˆ° AWS S3ï¼Œå…¶ä»–æ­¥é©Ÿéƒ½åªè¦è·Ÿ API ä¸²æ¥å³å¯ã€‚</p>

<p><img src="images/speechPractice-65c67f77.svg" alt="åˆ†ç´šæ¸¬é©— API" /></p>
<h2 id='start-exam-mutation-2'>Start Exam - Mutation</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">mutation</span><span class="w"> </span><span class="n">startExam</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">startExam</span><span class="p">(</span><span class="w">
    </span><span class="n">accountId</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="w">
    </span><span class="n">examType</span><span class="p">:</span><span class="w"> </span><span class="n">ARTICLE_SPEECH_PRACTICE</span><span class="w">
    </span><span class="n">article</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">articleId</span><span class="p">:</span><span class="w"> </span><span class="s2">"69"</span><span class="w">
      </span><span class="n">levelId</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL7:HSK7-9"</span><span class="w">
      </span><span class="n">articleContent</span><span class="p">:</span><span class="w"> </span><span class="s2">"åœ¨å¥½èŠå¡¢(Hollywood)é›»å½±è£¡çš„æ±æ–¹è§’è‰²ï¼Œç¸½æ˜¯çµ¦äººä¸€ç¨®ç¥ç§˜çš„æ„Ÿè¦º--ä¸æ˜¯ç‹¡çŒ¾åˆå±éšªï¼Œå°±æ˜¯æ·±è—ä¸éœ²çš„å²å®³è§’è‰²...."</span><span class="w">
      </span><span class="n">questions</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="n">questionId</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
          </span><span class="n">questionContent</span><span class="p">:</span><span class="w"> </span><span class="s2">"è«‹å•ä½ æœ‰æ²’æœ‰è‡ªå·±å­¸ç¿’å¤ä»£å“²å­¸çš„ç¶“é©—ï¼Ÿè«‹èªªèªªçœ‹ã€‚"</span><span class="w">
          </span><span class="n">description</span><span class="p">:</span><span class="w"> </span><span class="s2">"1. ä½ åœ¨ä»€éº¼æƒ…æ³ä¸‹çŸ¥é“çš„ï¼Ÿ2. åœ¨çŸ¥é“ä¹‹å¾Œï¼Œä½ åšäº†ä»€éº¼æ¨£çš„å­¸ç¿’ï¼Ÿ"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">error</span><span class="w">
    </span><span class="n">message</span><span class="w">
    </span><span class="n">exam</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">accountId</span><span class="w">
      </span><span class="n">sk</span><span class="w">
      </span><span class="n">startTime</span><span class="w">
      </span><span class="n">status</span><span class="w">
      </span><span class="n">type</span><span class="w">
      </span><span class="n">remainingNumOfQuestion</span><span class="w">
      </span><span class="n">totalNumOfQuestion</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>ä»¥ä¸Šçš„ startExam mutation æœƒå›å‚³ä»¥ä¸‹ JSON:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"startExam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e17d09f9-12e6-4370-a431-d3523d9c6449"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"exam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"main:ARTICLE_SPEECH_PRACTICE:ts:1706318115"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1706318115</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN_PROGRESS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ARTICLE_SPEECH_PRACTICE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>startExam mutation æœƒé–‹å•Ÿä¸€å€‹æ–‡ç« å£èªç·´ç¿’ï¼Œä¸€å€‹å­¸ç”Ÿå¯ä»¥æœ‰å¤šå€‹ç·´ç¿’ï¼Œåœ¨é€™è£¡ <code>examType</code> å¿…é ˆç‚º <code>ARTICLE_SPEECH_PRACTICE</code>ï¼Œæ¯æ¬¡é–‹å•Ÿæ–‡ç« å£èªç·´ç¿’éƒ½è¦å‚³<code>article</code>çµ¦ APIï¼Œè¿”å›çš„å£èªç·´ç¿’ç‹€æ…‹(<code>status</code>) æœ‰ 3 ç¨®(<code>IN_PROGRESS</code>, <code>COMPLETED</code>, <code>CANCELED</code>)</p>
<h3 id='mutation-input-parameters-5'>Mutation Input Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId (required)</td>
<td>string</td>
<td>ç™»å…¥å¸³è™Ÿ ID</td>
</tr>
<tr>
<td>examType (required)</td>
<td>enum</td>
<td>è€ƒè©¦ç¨®é¡(ç›®å‰åªæœ‰<code>DETERMINE_LEVEL</code>è·Ÿ<code>ARTICLE_SPEECH_PRACTICE</code>)</td>
</tr>
<tr>
<td>article (required)</td>
<td>object</td>
<td>æ–‡ç« å…§å®¹(åŒ…å«é¡Œç›®)</td>
</tr>
<tr>
<td>article.articleId (required)</td>
<td>string</td>
<td>æ–‡ç« çš„ ID</td>
</tr>
<tr>
<td>article.levelId (required)</td>
<td>string</td>
<td>æ–‡ç« çš„åˆ†ç´š</td>
</tr>
<tr>
<td>article.articleContent (required)</td>
<td>string</td>
<td>æ–‡ç« å…§å®¹</td>
</tr>
<tr>
<td>article.questions (required)</td>
<td>array</td>
<td>è€ƒé¡Œ(question) Array</td>
</tr>
<tr>
<td>question (required)</td>
<td>object</td>
<td>è€ƒé¡Œ(question)</td>
</tr>
<tr>
<td>question.questionId (required)</td>
<td>string</td>
<td>è€ƒé¡Œçš„ ID</td>
</tr>
<tr>
<td>question.questionContent (required)</td>
<td>string</td>
<td>é¡Œç›®å…§å®¹</td>
</tr>
<tr>
<td>question.description (optional)</td>
<td>string</td>
<td>è€ƒé¡Œçš„è§£é‡‹</td>
</tr>
</tbody></table>

<aside class="success">
æ³¨æ„ â€” examType æ˜¯ GraphQL enum type
</aside>
<h3 id='response-6'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>string</td>
<td>ç™»å…¥å¸³è™Ÿ ID</td>
</tr>
<tr>
<td>sk</td>
<td>string</td>
<td>ç•¶å‰ç·´ç¿’çš„ sort key</td>
</tr>
<tr>
<td>startTime</td>
<td>string</td>
<td>ç•¶å‰ç·´ç¿’çš„é–‹å§‹æ™‚é–“</td>
</tr>
<tr>
<td>status</td>
<td>enum</td>
<td>ç·´ç¿’ç‹€æ…‹(ç›®å‰åªæœ‰<code>IN_PROGRESS</code>, <code>COMPLETED</code>, <code>CANCELED</code>)</td>
</tr>
<tr>
<td>type</td>
<td>enum</td>
<td>ç·´ç¿’ç¨®é¡(<code>ARTICLE_SPEECH_PRACTICE</code>)</td>
</tr>
<tr>
<td>remainingNumOfQuestion</td>
<td>Int</td>
<td>ç•¶å‰æ–‡ç« ç·´ç¿’é¡Œçš„å‰©ä¸‹é¡Œæ•¸</td>
</tr>
<tr>
<td>totalNumOfQuestion</td>
<td>Int</td>
<td>ç•¶å‰æ–‡ç« å£èªç·´ç¿’ç¸½å…±çš„é¡Œæ•¸</td>
</tr>
</tbody></table>
<h2 id='upload-voice-query'>Upload Voice - Query</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">query</span><span class="w"> </span><span class="n">getUploadVoiceSignedURL</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">getUploadVoiceSignedURL</span><span class="p">(</span><span class="w">
    </span><span class="n">accountId</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="w">
    </span><span class="n">sk</span><span class="p">:</span><span class="w"> </span><span class="s2">"main:ARTICLE_SPEECH_PRACTICE:ts:1706318115"</span><span class="w">
    </span><span class="n">articleId</span><span class="p">:</span><span class="w"> </span><span class="s2">"69"</span><span class="w">
    </span><span class="n">articleIdQuestionId</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
  </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">error</span><span class="w">
    </span><span class="n">message</span><span class="w">
    </span><span class="n">signedUrl</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>ä»¥ä¸Šçš„ getUploadVoiceSignedURL query æœƒå›å‚³ä»¥ä¸‹ JSON:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"getUploadVoiceSignedURL"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"signedUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://dev-commerce-speech.s3.ap-southeast-1.amazonaws.com/ARTICLE_SPEECH_PRACTICE/test-accountId/1706318115/69/1.mp3?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;X-Amz-Credential=ASIAYQHUHCC46NUU75GE%2F20240127%2Fap-southeast-1%2Fs3%2Faws4_request&amp;X-Amz-Date=20240127T042342Z&amp;X-Amz-Expires=60&amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjEP3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaDmFwLXNvdXRoZWFzdC0xIkcwRQIgVm1ZZUsR1%2BbSruaTat6iIRN5zNdJdQsZzjksGhegUgACIQC%2FbiRzjOjR1%2F193ltTR%2FmwoxaOPoZuiAyCO7BvoMVKYyqTAwi2%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDU4NDYyNzcyMDM3NyIMroF40FQt%2BlZkIV6bKucCZRPmd%2Fxzfu3adiPusT4UaTvFcWvvfzk6gSVieRzlF9aDWK1vwH%2FVHNV6bECdZ3aoa1JjRY8OEdh10GQeJxtX951V06HoDUPJMuWFvrQST6cIMwVAyk18ztzn%2BIoCrVZdg6y0MX24eKVq1cGn8HKVHQUM5aVIOHiBMlrZ4AHL9gDYJQc9sgEqnv2jI%2F7NfnsN%2BHHU1HwXVGPDIywOgDHKucz4c%2BshPUnufkN6zLE2R6FooJ1R7xbjV4mjdhRd25ypMDiKp9tnDRtCPrkMR%2FN1zuSrXtRktark3%2B3NFHX9Vsmlqg440JcpoR4Z8ZU%2B%2BwEJnXzON1dKaVfN22BED6v9baHQFGM3TJgnCQO%2FVfqUsFq%2BZ0EhcQ%2FmmqRyoR6vllviCpGZLswTunocAGEYO5zRJn2ejQsgIk9DMeUikAMOuMz6lPeDNCxooRox9ELHv4c4d5GZzjffEvzF39WU3DaEpXUTGlJl%2BSYwoYrSrQY6nQFcUXN3liJjWZvIW1D09ZTQX89DWLeGfuYJJ%2BY0rJ2afR7KYNIWWqX2vqHsUtTwB2918Gn5ZamwWRkkK3ufMiDpIp7ob%2BN3Mb99CEYY63y1ujF%2BTn02lZmMh%2Fr5qZpaPRXGYZmoRGQaJtwMUU9rauQP%2BDXjyUJUZUHq15hr1Czrq0Psv%2F%2B1sYS0Wun6aZgahjRiQ%2FJ2hNSCi1nOjV4P&amp;X-Amz-Signature=e853aaa06de219a7ee491cbd74deda69317507f6bc3276bcccb09dac7dc5f996&amp;X-Amz-SignedHeaders=content-encoding%3Bhost&amp;x-id=PutObject"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>ä»¥ä¸‹æ˜¯ ChatGPT çµ¦çš„ç°¡å–®çš„ Pseudo codeï¼Œå¯ä»¥ä¸Šå‚³ mp3 æª”åˆ° Signed URL</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// å‡è¨­ `signedUrl` æ˜¯å¾å¾Œç«¯ç²å¾—çš„ Signed URL</span>
<span class="kd">const</span> <span class="nx">signedUrl</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">YOUR_PRE_SIGNED_URL_HERE</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// `file` æ˜¯ä¸€å€‹æŒ‡å‘ä½ è¦ä¸Šå‚³çš„ MP3 æª”æ¡ˆçš„åƒè€ƒï¼Œå¯ä»¥é€šé &lt;input type="file"&gt; ç²å¾—</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">uploadFile</span><span class="p">(</span><span class="nx">file</span><span class="p">,</span> <span class="nx">signedUrl</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">signedUrl</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PUT</span><span class="dl">"</span><span class="p">,</span>
      <span class="c1">// Signed URL ä¸­å·²åŒ…å«æ‰€æœ‰å¿…è¦çš„èªè­‰é ­ä¿¡æ¯ï¼Œæ‰€ä»¥é€™è£¡ä¸éœ€è¦è¨­ç½® `Authorization` é ­</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">audio/mpeg</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">Content-Length</span><span class="dl">"</span><span class="p">:</span> <span class="nx">file</span><span class="p">.</span><span class="nx">size</span>
      <span class="p">},</span>
      <span class="na">body</span><span class="p">:</span> <span class="nx">file</span><span class="p">,</span> <span class="c1">// å°‡Mp3æª”ä½œç‚ºè«‹æ±‚é«”</span>
    <span class="p">});</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">æª”æ¡ˆä¸Šå‚³æˆåŠŸ</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">"</span><span class="s2">æª”æ¡ˆä¸Šå‚³å¤±æ•—</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">statusText</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">"</span><span class="s2">ä¸Šå‚³éç¨‹ä¸­ç™¼ç”ŸéŒ¯èª¤</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// å‡è¨­é€™æ˜¯ä¸€å€‹ç°¡å–®çš„è§¸ç™¼ä¸Šå‚³çš„æŒ‰éˆ•äº‹ä»¶</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">uploadButton</span><span class="dl">"</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">fileInput</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">fileInput</span><span class="dl">"</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">fileInput</span><span class="p">.</span><span class="nx">files</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">file</span> <span class="o">=</span> <span class="nx">fileInput</span><span class="p">.</span><span class="nx">files</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="c1">// ç²å–ç”¨æˆ¶é¸æ“‡çš„ç¬¬ä¸€å€‹æª”æ¡ˆï¼Œå³ MP3 æª”æ¡ˆ</span>
    <span class="nx">uploadFile</span><span class="p">(</span><span class="nx">file</span><span class="p">,</span> <span class="nx">signedUrl</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">è«‹é¸æ“‡ä¸€å€‹æª”æ¡ˆ</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="c1">// HTML</span>
<span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">file</span><span class="dl">"</span> <span class="nx">id</span><span class="o">=</span><span class="dl">"</span><span class="s2">fileInput</span><span class="dl">"</span> <span class="nx">accept</span><span class="o">=</span><span class="dl">"</span><span class="s2">.mp3</span><span class="dl">"</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="nx">button</span> <span class="nx">id</span><span class="o">=</span><span class="dl">"</span><span class="s2">uploadButton</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">Upload</span> <span class="nx">MP3</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span></code></pre></div>
<p>ä¸Šå‚³ mp3 éŸ³æª”æœ‰å…©å€‹æ­¥é©Ÿï¼š</p>

<ol>
<li>å‘¼å« <code>getUploadVoiceSignedURL</code> API å–å¾—ä¸€æ¬¡æ€§çš„ Signed URL</li>
<li>é€é Signed URL ç›´æ¥æŠŠéŸ³æª”ä¸Šå‚³åˆ° S3 (ä¸æœƒé€éå¤§è©± API)</li>
</ol>

<aside style="background-color: #f9f9f9; border-left: 6px solid #28a745; margin: 20px 0; padding: 15px; box-shadow: 0 2px 4px rgba(0,0,0,.1);">
    <strong>æ³¨æ„ï¼š</strong>
    <br>
    <ol>
        <li>éŸ³æª”çš„æª”åå¿…é ˆæ˜¯ <code>articleIdQuestionId.mp3</code>ï¼ˆä¾‹å¦‚ï¼šarticleIdQuestionId: <code>1</code>, éŸ³æª”åå¿…é ˆæ˜¯ <code>1.mp3</code>ï¼‰</li>
        <li>Signed URL æœƒåœ¨ 60 ç§’å…§éæœŸï¼Œæ‰€ä»¥å»ºè­°å­¸ç”ŸéŒ„å®ŒéŸ³ï¼Œæº–å‚™ä¸Šå‚³çš„æ™‚å€™å†å»å‘¼å« <code>getUploadVoiceSignedURL</code> API</li>
    </ol>
</aside>
<h3 id='s3-signed-url'>S3 Signed URL åƒè€ƒè³‡æ–™ (æœ‰èˆˆè¶£å†è®€)</h3>
<ol>
<li><a href="https://docs.aws.amazon.com/zh_tw/AmazonS3/latest/userguide/PresignedUrlUploadObject.html">AWS Signed URL æ–‡æª”</a></li>
<li><a href="https://medium.com/weekly-webtips/upload-files-directly-to-s3-with-pre-signed-url-31beff41157e">é¡ä¼¼çš„ç¯„ä¾‹</a></li>
</ol>
<h3 id='query-input-parameters-2'>Query Input Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId (required)</td>
<td>string</td>
<td>ç™»å…¥å¸³è™Ÿ ID</td>
</tr>
<tr>
<td>sk (required)</td>
<td>string</td>
<td>ç•¶å‰ç·´ç¿’çš„ sort key</td>
</tr>
<tr>
<td>articleId (required)</td>
<td>string</td>
<td>ç•¶å‰æ–‡ç«  ID</td>
</tr>
<tr>
<td>articleIdQuestionId (required)</td>
<td>string</td>
<td>ç•¶å‰æ–‡ç« è€ƒé¡Œ ID</td>
</tr>
</tbody></table>
<h3 id='response-7'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>signedUrl</td>
<td>string</td>
<td>ä¸Šå‚³éŸ³æª”ç”¨çš„ Pre-Signed URL</td>
</tr>
<tr>
<td>error</td>
<td>boolean</td>
<td>æ˜¯å¦æœ‰ Error</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>Error è¨Šæ¯</td>
</tr>
</tbody></table>
<h2 id='exams-query-2'>Exams - Query</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">query</span><span class="w"> </span><span class="n">exams</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">exams</span><span class="p">(</span><span class="w">
    </span><span class="n">accountId</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="w">
    </span><span class="n">sk</span><span class="p">:</span><span class="w"> </span><span class="s2">"main:ARTICLE_SPEECH_PRACTICE:ts:1706243619"</span><span class="w">
  </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">error</span><span class="w">
    </span><span class="n">message</span><span class="w">
    </span><span class="n">requestId</span><span class="w">
    </span><span class="n">exams</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">questionDetails</span><span class="w">
      </span><span class="n">startTime</span><span class="w">
      </span><span class="n">status</span><span class="w">
      </span><span class="n">completedTime</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>ä»¥ä¸Šçš„ exams query æœƒå›å‚³ä»¥ä¸‹ JSON:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"exams"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3101f714-e59c-4ca4-8d3b-85b126b72f0a"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"exams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"questionDetails"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">1</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">questionId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">articleId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">69</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">voiceText</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">æˆ‘çœ‹ Minecraft çš„è§†é¢‘çš„æ—¶å€™,æ‰å¬è¯´å­™å­çš„å“²å­¦ã€‚ ä¸€ä¸ªç©æ¸¸æˆçš„äººç”¨äº†å­™å­çš„å“²å­¦èµ¢ä¸€åœºå†œåœºåœŸè±†æ¯”èµ›ã€‚ æˆ‘è§‰å¾—åœ¨ç°ä»£çš„ç”µè„‘æ¸¸æˆä¸Šç”¨å¤è€çš„å…µæ³•å¤ªæœ‰è¶£äº†ã€‚ æ‰€ä»¥æˆ‘é©¬ä¸Šä¹°äº†ä¸€æœ¬ã€Šå­™å­å…µæ³•ã€‹,ä¸€å¤©å°±çœ‹å®Œäº†ã€‚ æˆ‘çš„å”å”æ˜¯å†›äº‹æ­¦å™¨çš„ä¼ä¸šå®¶,ä»–ç»™äº†æˆ‘ã€Šå­™å­å…µæ³•ã€‹è¿™æœ¬ä¹¦å¹¶å¼ºè°ƒå“²å­¦æˆ˜ç•¥,ä¸ä½†å®ç”¨äºå†›äº‹çš„ä¸šç”¨åœ¨æ—¥å¸¸ç”Ÿæ´»ã€‚</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">questionContent</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">è«‹å•ä½ æœ‰æ²’æœ‰è‡ªå·±å­¸ç¿’å¤ä»£å“²å­¸çš„ç¶“é©—ï¼Ÿè«‹èªªèªªçœ‹ã€‚</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">sk</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">q:ARTICLE_SPEECH_PRACTICE:ts:1706243619:69:1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">memo</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">analyzedResult</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">é€™å€‹æ˜¯AIçš„å£èªåˆ†æçµæœ.....</span><span class="se">\"</span><span class="s2">}}"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1706243619</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"completedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1706244545</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Exam query å¯ä»¥æ ¹æ“š input parameters å›å‚³å­¸ç”Ÿçš„ &quot;ä¸€å€‹&quot; æˆ– &quot;å¤šå€‹&quot; è€ƒè©¦/ç·´ç¿’ æ­·å²ç´€éŒ„ã€‚</p>

<ol>
<li> ç•¶ä½ åªæä¾› <code>accountId</code> çš„æƒ…æ³ä¸‹ï¼ŒExam API æœƒå›å‚³é€™å€‹ç™»éŒ„å¸³è™Ÿä¸‹ &quot;æ‰€æœ‰&quot; çš„è€ƒè©¦/ç·´ç¿’æ­·å²ç´€éŒ„ã€‚</li>
<li> ç•¶ä½ æé€š <code>accountId</code> + <code>sk</code> çš„æƒ…æ³ä¸‹ï¼ŒExam API æœƒå›å‚³é€™å€‹ç™»éŒ„å¸³è™Ÿä¸‹ &quot;ä¸€å€‹&quot; è€ƒè©¦/ç·´ç¿’è¨˜éŒ„ã€‚</li>
</ol>

<p>æ¯”è¼ƒæ¨è–¦çš„åšæ³•æ˜¯ï¼Œå¯ä»¥å…ˆä¸å‚³ withDetails(é è¨­ç‚º false)ï¼Œä¸¦ä¸”æ‹¿åˆ°å­¸ç”Ÿçš„å¤šå€‹æ¸¬é©—æ­·å²å¾Œï¼Œåœ¨è®“å­¸ç”Ÿé»é¸æŸä¸€å€‹æ¸¬é©—ï¼Œé€™æ™‚å€™åœ¨æŠŠ withDetails è¨­å®šç‚º true ä¸¦ä¸”å‚³(accountId + sk(å­¸ç”Ÿé¸ä¸­çš„ sk))çµ¦ Exam APIï¼Œé€™æ™‚ Exam API å°±æœƒæŠŠæ‰€æœ‰æ¸¬é©—ç´°ç¯€å›å‚³çµ¦å­¸ç”Ÿã€‚</p>
<h3 id='query-input-parameters-3'>Query Input Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId (required)</td>
<td>string</td>
<td>ç™»å…¥å¸³è™Ÿ ID</td>
</tr>
<tr>
<td>sk (required)</td>
<td>string</td>
<td>ç•¶å‰ç·´ç¿’çš„ sort key</td>
</tr>
<tr>
<td>examType (optional)</td>
<td>string</td>
<td>è€ƒè©¦ç¨®é¡</td>
</tr>
<tr>
<td>withDetails(é è¨­ç‚º <code>false</code>)</td>
<td>boolean</td>
<td>æ˜¯å¦å›å‚³å­¸ç”Ÿçš„ç­”æ¡ˆ + AI åˆ†æçµæœ</td>
</tr>
</tbody></table>
<h3 id='response-8'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>error</td>
<td>boolean</td>
<td>æ˜¯å¦æœ‰ Error</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>Error è¨Šæ¯</td>
</tr>
<tr>
<td>exams</td>
<td>array</td>
<td>exam(è€ƒè©¦/ç·´ç¿’) array</td>
</tr>
<tr>
<td>exam</td>
<td>object</td>
<td>exam(è€ƒè©¦/ç·´ç¿’)</td>
</tr>
<tr>
<td>exam.startTime</td>
<td>Int</td>
<td>ç•¶å‰ç·´ç¿’çš„é–‹å§‹æ™‚é–“</td>
</tr>
<tr>
<td>exam.status</td>
<td>string</td>
<td>è€ƒè©¦ç‹€æ…‹(ç›®å‰åªæœ‰<code>IN_PROGRESS</code>, <code>COMPLETED</code>, <code>CANCELED</code>)</td>
</tr>
<tr>
<td>exam.completedTime</td>
<td>Int</td>
<td>ç•¶å‰ç·´ç¿’çš„çµæŸæ™‚é–“</td>
</tr>
<tr>
<td>exam.questionDetails</td>
<td>AWSJSON</td>
<td>åŒ…å«&quot;æ‰€æœ‰&quot;é¡Œç›®çš„(èªéŸ³è½‰æ–‡å­—å…§å®¹+AI åˆ†æçš„çµæœ)</td>
</tr>
<tr>
<td>questionDetails[questionId]</td>
<td>obj</td>
<td>question åŒ…å«&quot;å–®ä¸€&quot;é¡Œç›®çš„(èªéŸ³è½‰æ–‡å­—å…§å®¹+AI åˆ†æçš„çµæœ)</td>
</tr>
<tr>
<td>question.questionId</td>
<td>string</td>
<td>ç·´ç¿’é¡Œç›®çš„ ID</td>
</tr>
<tr>
<td>question.articleId</td>
<td>string</td>
<td>ç·´ç¿’æ–‡ç« çš„ ID</td>
</tr>
<tr>
<td>question.voiceText</td>
<td>string</td>
<td>èªéŸ³è½‰æ–‡å­—å…§å®¹</td>
</tr>
<tr>
<td>question.questionContent</td>
<td>string</td>
<td>ç·´ç¿’é¡Œé¡Œç›®</td>
</tr>
<tr>
<td>question.sk</td>
<td>string</td>
<td>ç·´ç¿’é¡Œé¡Œç›® sort key</td>
</tr>
<tr>
<td>question.memo</td>
<td>string</td>
<td>ç·´ç¿’é¡Œé¡Œç›®å‚™è¨»</td>
</tr>
<tr>
<td>question.analyzedResult</td>
<td>string</td>
<td>AI åˆ†æçš„çµæœ</td>
</tr>
</tbody></table>
<h2 id='download-voice-query'>Download Voice - Query</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">query</span><span class="w"> </span><span class="n">getDownloadVoiceSignedURL</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">getUploadVoiceSignedURL</span><span class="p">(</span><span class="w">
    </span><span class="n">accountId</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="w">
    </span><span class="n">sk</span><span class="p">:</span><span class="w"> </span><span class="s2">"main:ARTICLE_SPEECH_PRACTICE:ts:1706243619"</span><span class="w">
    </span><span class="n">articleId</span><span class="p">:</span><span class="w"> </span><span class="s2">"69"</span><span class="w">
    </span><span class="n">articleIdQuestionId</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
  </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">error</span><span class="w">
    </span><span class="n">message</span><span class="w">
    </span><span class="n">signedUrl</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>ä»¥ä¸Šçš„ getUploadVoiceSignedURL query æœƒå›å‚³ä»¥ä¸‹ JSON:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"getUploadVoiceSignedURL"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"signedUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://dev-commerce-speech.s3.ap-southeast-1.amazonaws.com/ARTICLE_SPEECH_PRACTICE/test-accountId/1706243619/69/1.mp3?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;X-Amz-Credential=ASIAYQHUHCC4ZXLIT3FD%2F20240128%2Fap-southeast-1%2Fs3%2Faws4_request&amp;X-Amz-Date=20240128T060141Z&amp;X-Amz-Expires=60&amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBYaDmFwLXNvdXRoZWFzdC0xIkcwRQIgTPC59NGDjRZhbZ82TyoS30QoF0t4KIRvfkD5gmQlnJ8CIQDhfAgF6gywaEGYGtYnwXOCz39%2Bsj20Tp05zCx8rcRqyiqTAwjP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDU4NDYyNzcyMDM3NyIMGnm34NCSgUUOwy3xKucCsF6Oo1HlYijF0PKRWyYS7xZtceRLp0dcfdnjv0g%2Fy8v9Y8M9XXLfCPqEncXiM8pB6za9ANhN55Srx6hSvonsME3ZKnR0UZauPoo4bw8UJIqhediLtH%2F98RWiCRWN7ljf727doxPuFAWddPE6BK7wKs8EKC5xDqH1JXN8%2BNlMueJOmFTjyhCnlaK%2FQZlhWQ5O8dIaWRB7u1o2LQzfJg4kA1JQJk3oGVvsXGixdbBUMoiOrAEdtK0laqfuGVYnlAlDY1j4Tbsml9gOLoKC5CtAqTsPWAP7P0Mv4WbuEmJfXrx40OCsAkPUZubk3urGp5z1lb%2Bc%2BGnpJBdcxjLPID6pri6zfn1%2BMqOOnSXq9i965fu3vrzAjIDVBh7kElNtL1fv9Xpfqld9ULZh6egzlP%2FJSOvM9vfsO5ismTGHqrvAATG3sBfYaJJ63Z6hMAnTW9uiy0kL60Jokn7ASVg4r202QUqi7hcOnuAwxNvXrQY6nQG3KE18vQX9I7Oj0kYoqwY9MGEnhejz5M%2FOVMxS9kD6alOfGHmsE8sFy%2FjmNIc4uIDXfx6GV00ziFsoHxEifzBkOsuyiFWoOf8AF2W6hx7R9S8hSrNBhDVkPkQjg3QIOr9IGxR9gv75dfgVH9GG5EH%2FZ2EszXa9RTeXPZOHrcYr3EghW6EljZT0DhbuoeFrPVwlV15Jd7NC%2FYalq2ff&amp;X-Amz-Signature=e421b7c7ce2829dc83254ead59d95cd8fb364338da30e1dc4a273b349c9dc9ce&amp;X-Amz-SignedHeaders=content-encoding%3Bhost&amp;x-id=PutObject"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>ä»¥ä¸‹æ˜¯ ChatGPT çµ¦çš„ç°¡å–®çš„ Pseudo codeï¼Œå¯ä»¥å¾ S3 ä¸‹è¼‰ mp3 æª”çš„ Signed URL</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// singedUrl from getDownloadVoiceSignedURL</span>
<span class="kd">const</span> <span class="nx">signedUrl</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">SIGNED_URL</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// ç²å– audio æ¨™ç±¤</span>
<span class="kd">const</span> <span class="nx">audioPlayer</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">audioPlayer</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">// å®šç¾©ç•°æ­¥å‡½æ•¸ä¾†ä¸‹è¼‰ä¸¦æ’­æ”¾éŸ³é »</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">downloadAndPlayAudio</span><span class="p">(</span><span class="nx">signedUrl</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">signedUrl</span><span class="p">);</span> <span class="c1">// ä½¿ç”¨ fetch ä¸‹è¼‰ MP3 æ–‡ä»¶</span>
    <span class="kd">const</span> <span class="nx">blob</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">blob</span><span class="p">();</span> <span class="c1">// å°‡éŸ¿æ‡‰è½‰æ›ç‚º Blob</span>

    <span class="c1">// å‰µå»ºä¸€å€‹æŒ‡å‘ä¸‹è¼‰å…§å®¹çš„ URL</span>
    <span class="kd">const</span> <span class="nx">audioUrl</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">URL</span><span class="p">.</span><span class="nx">createObjectURL</span><span class="p">(</span><span class="nx">blob</span><span class="p">);</span>
    <span class="nx">audioPlayer</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">audioUrl</span><span class="p">;</span> <span class="c1">// è¨­ç½®éŸ³é »æº</span>
    <span class="nx">audioPlayer</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span> <span class="c1">// æ’­æ”¾éŸ³é »</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">"</span><span class="s2">Error downloading or playing the audio:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// å‘¼å«å‡½æ•¸ä¸¦å‚³å…¥ Pre-Signed URL</span>
<span class="nx">downloadAndPlayAudio</span><span class="p">(</span><span class="nx">signedUrl</span><span class="p">);</span>
</code></pre></div>
<p>ä¸‹è¼‰ mp3 éŸ³æª”æœ‰å…©å€‹æ­¥é©Ÿï¼š</p>

<ol>
<li>å‘¼å« <code>getDownloadVoiceSignedURL</code> API å–å¾—ä¸€æ¬¡æ€§çš„ Signed URL</li>
<li>é€é Signed URL ç›´æ¥å¾ S3 ä¸‹è¼‰éŸ³æª” (ä¸æœƒé€éå¤§è©± API)</li>
</ol>
<h3 id='query-input-parameters-4'>Query Input Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId (required)</td>
<td>string</td>
<td>ç™»å…¥å¸³è™Ÿ ID</td>
</tr>
<tr>
<td>sk (required)</td>
<td>string</td>
<td>ç•¶å‰ç·´ç¿’çš„ sort key</td>
</tr>
<tr>
<td>articleId (required)</td>
<td>string</td>
<td>ç•¶å‰æ–‡ç«  ID</td>
</tr>
<tr>
<td>articleIdQuestionId (required)</td>
<td>string</td>
<td>ç•¶å‰æ–‡ç« è€ƒé¡Œ ID</td>
</tr>
</tbody></table>
<h3 id='response-9'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>signedUrl</td>
<td>string</td>
<td>ä¸‹è¼‰éŸ³æª”ç”¨çš„ Pre-Signed URL</td>
</tr>
<tr>
<td>error</td>
<td>boolean</td>
<td>æ˜¯å¦æœ‰ Error</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>Error è¨Šæ¯</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<aside class="notice">
Dahua GraphQL API ä¸¦ä¸æœƒå›å‚³ 4XX æˆ– 5XX error.
</aside>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td>string</td>
<td>Error è¨Šæ¯</td>
</tr>
<tr>
<td>error</td>
<td>boolean</td>
<td>æ˜¯å¦æœ‰ Error</td>
</tr>
</tbody></table>

<blockquote>
<p>å¦‚æœæœ‰ Error æœƒå›å‚³ä»¥ä¸‹ JSONï¼Œä¸¦é¡¯ç¤ºåŸå› ï¼Œ</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"yourQueryOrMutation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unexpected error... the reason is ...."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>ä»¥ä¸‹æ˜¯å€‹ç¯„ä¾‹ (answerQuestion API çš„ Error)ï¼š</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"answerQuestion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"nextQuestionId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"remainingNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"nextLevel"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"achievedLevel"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"examStatus"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exam status is COMPLETED, user can only answer the question for an IN_PROGRESS exam."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="graphql">graphql</a>
          </div>
      </div>
    </div>
  </body>
</html>
