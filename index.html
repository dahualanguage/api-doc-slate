
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the Dahua API"
        >
    <title>大話 API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-9c19b03a.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;graphql&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-0f1b28c5.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="graphql">graphql</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#dev-endpoint" class="toc-h2 toc-link" data-title="測試機(dev) endpoint:">測試機(dev) endpoint:</a>
                  </li>
                  <li>
                    <a href="#prod-endpoint" class="toc-h2 toc-link" data-title="正式機(prod) endpoint:">正式機(prod) endpoint:</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#exam" class="toc-h1 toc-link" data-title="Exam">Exam</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#start-exam-mutation" class="toc-h2 toc-link" data-title="Start Exam - Mutation">Start Exam - Mutation</a>
                  </li>
                  <li>
                    <a href="#questions-query" class="toc-h2 toc-link" data-title="Questions - Query">Questions - Query</a>
                  </li>
                  <li>
                    <a href="#answer-question-mutation" class="toc-h2 toc-link" data-title="Answer Question - Mutation">Answer Question - Mutation</a>
                  </li>
                  <li>
                    <a href="#exams-query" class="toc-h2 toc-link" data-title="Exams - Query">Exams - Query</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#response" class="toc-h2 toc-link" data-title="Response">Response</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/slatedocs/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Dahua APIs，目前只有第一版本的考試 APIs，用來幫學生做分級測驗，預計未來會加上更多 APIs.</p>
<h2 id='dev-endpoint'>測試機(dev) endpoint:</h2>
<p><code>https://bmxybfldb5bjdickj2z5gtm2ui.appsync-api.ap-southeast-1.amazonaws.com/graphql</code></p>
<h2 id='prod-endpoint'>正式機(prod) endpoint:</h2>
<p><code>還沒架，預計明年初開始架</code> 😆</p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>To authorize, use below api key:</p>
</blockquote>
<div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="p">{</span><span class="w">
  </span><span class="err">"</span><span class="n">x</span><span class="err">-</span><span class="n">api</span><span class="err">-</span><span class="n">key</span><span class="err">":</span><span class="w"> </span><span class="err">"</span><span class="n">yourApiKey</span><span class="err">"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Dahua GraphQL API 要求每一個 request 必須要有未過期的 API KEY.</p>

<p>API KEY 每一年需要更新一次 (找 Wilson 拿 API KEY.)。</p>

<p><code>x-api-key: yourApiKey</code></p>

<aside class="notice">
You must replace <code>yourApiKey</code> with your API key.
</aside>
<h1 id='exam'>Exam</h1><h2 id='start-exam-mutation'>Start Exam - Mutation</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">mutation</span><span class="w"> </span><span class="n">startExam</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">startExam</span><span class="p">(</span><span class="n">accountId</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="p">,</span><span class="w"> </span><span class="n">examType</span><span class="p">:</span><span class="w"> </span><span class="n">DETERMINE_LEVEL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">error</span><span class="w">
    </span><span class="n">message</span><span class="w">
    </span><span class="n">exam</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">accountId</span><span class="w">
      </span><span class="n">sk</span><span class="w">
      </span><span class="n">startTime</span><span class="w">
      </span><span class="n">nextQuestionNumber</span><span class="w">
      </span><span class="n">nextQuestionId</span><span class="w">
      </span><span class="n">status</span><span class="w">
      </span><span class="n">type</span><span class="w">
      </span><span class="n">remainingNumOfQuestion</span><span class="w">
      </span><span class="n">totalNumOfQuestion</span><span class="w">
      </span><span class="n">questionDetails</span><span class="w">
      </span><span class="n">achievedLevel</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>以上的 startExam mutation 會回傳以下 JSON:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"startExam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"exam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exam:DETERMINE_LEVEL:ts:1698090652"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1698090652</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nextQuestionNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nextQuestionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1:HSK2:SA|1000000021"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN_PROGRESS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DETERMINE_LEVEL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"questionDetails"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"achievedLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1, HSK2"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>startExam mutation 會開啟一個新的考試，一個學生可以有多個考試。
開啟一個考試後，API 會回傳下一題的題目 ID(<code>nextQuestionId</code>)</p>

<p>考試狀態(<code>status</code>) 有 3 種(<code>IN_PROGRESS</code>, <code>COMPLETED</code>, <code>CANCELED</code>)</p>

<p>考試類型(<code>type</code>) 有 2 種(<code>DETERMINE_LEVEL</code>, <code>ESSAY</code>)</p>
<h3 id='mutation-input-parameters'>Mutation Input Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId (required)</td>
<td>string</td>
<td>登入帳號 ID</td>
</tr>
<tr>
<td>examType (required)</td>
<td>enum</td>
<td>考試種類(目前只有<code>DETERMINE_LEVEL</code>跟<code>ESSAY</code>)</td>
</tr>
</tbody></table>

<aside class="success">
注意 — examType 是 GraphQL enum type
</aside>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>startTime</td>
<td>string</td>
<td>登入帳號 ID</td>
</tr>
<tr>
<td>nextQuestionNumber</td>
<td>Int</td>
<td>下一題的題號 (1, 2, 3, 4...)</td>
</tr>
<tr>
<td>nextQuestionId</td>
<td>string</td>
<td>下一題的題目 ID</td>
</tr>
<tr>
<td>status</td>
<td>enum</td>
<td>考試狀態(目前只有<code>IN_PROGRESS</code>, <code>COMPLETED</code>, <code>CANCELED</code>)</td>
</tr>
<tr>
<td>type</td>
<td>enum</td>
<td>考試種類(目前只有<code>DETERMINE_LEVEL</code>, <code>ESSAY</code>)</td>
</tr>
<tr>
<td>remainingNumOfQuestion</td>
<td>Int</td>
<td>當前測驗剩下題數</td>
</tr>
<tr>
<td>totalNumOfQuestion</td>
<td>Int</td>
<td>當前測驗總共的題數</td>
</tr>
<tr>
<td>questionDetails</td>
<td>AWSJSON</td>
<td>當前測驗的考試細節，包含學生選擇的答案與正確答案</td>
</tr>
<tr>
<td>achievedLevel</td>
<td>string</td>
<td>學生達到的程度</td>
</tr>
</tbody></table>
<h2 id='questions-query'>Questions - Query</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">query</span><span class="w"> </span><span class="n">questions</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">questions</span><span class="p">(</span><span class="n">questionId</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1:HSK2:SA|1000000021"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">questions</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">levelId</span><span class="w">
      </span><span class="n">level</span><span class="w">
      </span><span class="n">sk</span><span class="w">
      </span><span class="n">HSKLevel</span><span class="w">
      </span><span class="n">questionId</span><span class="w">
      </span><span class="n">TocflLevel</span><span class="w">
      </span><span class="n">question</span><span class="w">
      </span><span class="n">reference</span><span class="w">
      </span><span class="n">source</span><span class="w">
      </span><span class="n">type</span><span class="w">
      </span><span class="n">options</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="n">error</span><span class="w">
    </span><span class="n">message</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>以上的 questions query 會回傳以下 JSON:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"questions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"questions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"levelId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1:HSK2:SA"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1, HSK2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000021"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"HSKLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"questionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1:HSK2:SA|1000000021"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"TocflLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"这种鱼___年春天最多，男人们会一起搭船去海上找鱼。"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"这种鱼___年春天最多，男人们会一起搭船去海上找鱼。"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL考題"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SA"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"options"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">没有</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">B</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">每</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">C</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">几</span><span class="se">\"</span><span class="s2">}"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Questions query API 可以根據 input parameters 回傳一個或是多個考題，如果有收到<code>questionId</code> 的話就只會回傳一個考題。</p>
<h3 id='query-input-parameters'>Query Input Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>questionId (required)</td>
<td>string</td>
<td>考題 ID，這是唯一的</td>
</tr>
<tr>
<td>levelId (optional)</td>
<td>string</td>
<td>程度 ID (必須配合 <code>sk</code> 或是 (<code>skFrom</code> + <code>skTo</code>))</td>
</tr>
<tr>
<td>sk (optional)</td>
<td>string</td>
<td>sort key，每一個程度會有多個 sort key，代表每一個程度會有多個考題</td>
</tr>
<tr>
<td>skFrom (optional)</td>
<td>string</td>
<td>起始 sort key</td>
</tr>
<tr>
<td>skTo (optional)</td>
<td>string</td>
<td>最終 sort key</td>
</tr>
</tbody></table>

<aside class="warning">目前暫時不用理會 <code>levelId</code>, <code>sk</code>, <code>skFrom</code>, <code>skTo</code> (正在開發中...)</aside>
<h3 id='response-2'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>levelId</td>
<td>string</td>
<td>考題的程度 Id</td>
</tr>
<tr>
<td>sk</td>
<td>string</td>
<td>考題的 sort key</td>
</tr>
<tr>
<td>level</td>
<td>string</td>
<td>考題的程度 (<code>TOCFL1, HSK2</code>)</td>
</tr>
<tr>
<td>HSKLevel</td>
<td>string</td>
<td>HSK 程度</td>
</tr>
<tr>
<td>TocflLevel</td>
<td>string</td>
<td>Tocf 程度</td>
</tr>
<tr>
<td>questionId</td>
<td>string</td>
<td>考題 ID，這是唯一的</td>
</tr>
<tr>
<td>reference</td>
<td>string</td>
<td>當前測驗總共的題數</td>
</tr>
<tr>
<td>source</td>
<td>string</td>
<td>當前測驗的考試細節，包含學生選擇的答案與正確答案</td>
</tr>
<tr>
<td>type</td>
<td>enum</td>
<td>考題的總類，目前有(單選題<code>SA</code>, 多選題<code>MA</code>)</td>
</tr>
<tr>
<td>options</td>
<td>AWSJSON</td>
<td>這是一個包含所有選項的 JSON</td>
</tr>
</tbody></table>
<h2 id='answer-question-mutation'>Answer Question - Mutation</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">mutation</span><span class="w"> </span><span class="n">answerQuestion</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">answerQuestion</span><span class="p">(</span><span class="w">
    </span><span class="n">accountId</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="w">
    </span><span class="n">sk</span><span class="p">:</span><span class="w"> </span><span class="s2">"exam:DETERMINE_LEVEL:ts:1698090652"</span><span class="w">
    </span><span class="n">questionId</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1:HSK2:SA|1000000021"</span><span class="w">
    </span><span class="n">studentAnswers</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"A"</span><span class="p">]</span><span class="w">
  </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">nextQuestionId</span><span class="w">
    </span><span class="n">remainingNumOfQuestion</span><span class="w">
    </span><span class="n">nextLevel</span><span class="w">
    </span><span class="n">achievedLevel</span><span class="w">
    </span><span class="n">examStatus</span><span class="w">
    </span><span class="n">message</span><span class="w">
    </span><span class="n">error</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>以上的 answerQuestion mutation 會回傳以下 JSON:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"answerQuestion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"nextQuestionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1:HSK2:SA|1000000017"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"remainingNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"nextLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1, HSK2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"achievedLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1, HSK2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"examStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN_PROGRESS"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>測驗結束的 Response 如下：</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"answerQuestion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"nextQuestionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"remainingNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"nextLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"achievedLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1, HSK2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"examStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Answer Question mutation 可以讓學生回答考題。
每一次的 API call 都會回傳下一題的題目 ID (<code>nextQuestionId</code>) 與測驗狀態 (<code>examStatus</code>)，當 <code>nextQuestionId</code> 等於空字串(<code>&quot;&quot;</code>) 並且 <code>examStatus</code> 等於 <code>COMPLETED</code>，代表測驗結束，並且最終程度 (<code>achievedLevel</code>) 就是學生的程度。</p>
<h3 id='mutation-input-parameters-2'>Mutation Input Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>string</td>
<td>登入帳號 ID</td>
</tr>
<tr>
<td>sk</td>
<td>string</td>
<td>考試的 sort key</td>
</tr>
<tr>
<td>questionId</td>
<td>string</td>
<td>題目 ID</td>
</tr>
<tr>
<td>studentAnswers</td>
<td>Array of String</td>
<td>學生的答案</td>
</tr>
</tbody></table>
<h3 id='response-3'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>nextQuestionId</td>
<td>string</td>
<td>下一題考題的 Id</td>
</tr>
<tr>
<td>remainingNumOfQuestion</td>
<td>Int</td>
<td>當前測驗剩下題數</td>
</tr>
<tr>
<td>nextLevel</td>
<td>string</td>
<td>下一題考題的難度</td>
</tr>
<tr>
<td>achievedLevel</td>
<td>string</td>
<td>學生達到的程度</td>
</tr>
<tr>
<td>examStatus</td>
<td>enum</td>
<td>當前測驗的狀態</td>
</tr>
</tbody></table>
<h2 id='exams-query'>Exams - Query</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">query</span><span class="w"> </span><span class="n">exams</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">exams</span><span class="p">(</span><span class="n">accountId</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="p">,</span><span class="w"> </span><span class="n">withDetails</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">error</span><span class="w">
    </span><span class="n">message</span><span class="w">
    </span><span class="n">exams</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">accountId</span><span class="w">
      </span><span class="n">sk</span><span class="w">
      </span><span class="n">nextQuestionId</span><span class="w">
      </span><span class="n">questionDetails</span><span class="w">
      </span><span class="n">remainingNumOfQuestion</span><span class="w">
      </span><span class="n">startTime</span><span class="w">
      </span><span class="n">status</span><span class="w">
      </span><span class="n">totalNumOfQuestion</span><span class="w">
      </span><span class="n">achievedLevel</span><span class="w">
      </span><span class="n">type</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>以上的 exams query 會回傳以下 JSON:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"exams"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"exams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exam:DETERMINE_LEVEL:ts:1698090545"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"nextQuestionId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"questionDetails"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"remainingNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1698090545</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"achievedLevel"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DETERMINE_LEVEL"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exam:DETERMINE_LEVEL:ts:1698090652"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"nextQuestionId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"questionDetails"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"remainingNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1698090652</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"achievedLevel"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DETERMINE_LEVEL"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>如果 withDetails 是 true 的話，會回傳以下 JSON：</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"exams"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"exams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exam:DETERMINE_LEVEL:ts:1698090545"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"nextQuestionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"questionDetails"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">1</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">sk</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1000000002</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">correctAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">studentAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">level</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1, HSK2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">levelId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1:HSK2:SA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">isCorrect</span><span class="se">\"</span><span class="s2">:true},</span><span class="se">\"</span><span class="s2">2</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">sk</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1000000013</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">correctAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">B</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">studentAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">level</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1, HSK2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">levelId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1:HSK2:SA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">isCorrect</span><span class="se">\"</span><span class="s2">:false},</span><span class="se">\"</span><span class="s2">3</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">sk</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1000000004</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">correctAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">studentAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">level</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1, HSK2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">levelId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1:HSK2:SA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">isCorrect</span><span class="se">\"</span><span class="s2">:true},</span><span class="se">\"</span><span class="s2">consecutiveWrong</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">consecutiveCorrect</span><span class="se">\"</span><span class="s2">:1}"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"remainingNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1698090545</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
          </span><span class="nl">"achievedLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1, HSK2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DETERMINE_LEVEL"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-accountId"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exam:DETERMINE_LEVEL:ts:1698090652"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"nextQuestionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"questionDetails"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">1</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">sk</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1000000021</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">correctAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">B</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">studentAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">level</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1, HSK2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">levelId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1:HSK2:SA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">isCorrect</span><span class="se">\"</span><span class="s2">:false},</span><span class="se">\"</span><span class="s2">2</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">sk</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1000000017</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">correctAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">studentAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">level</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1, HSK2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">levelId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1:HSK2:SA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">isCorrect</span><span class="se">\"</span><span class="s2">:true},</span><span class="se">\"</span><span class="s2">3</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">sk</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1000000002</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">correctAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">studentAnswers</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">A</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">level</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1, HSK2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">levelId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">TOCFL1:HSK2:SA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">isCorrect</span><span class="se">\"</span><span class="s2">:true},</span><span class="se">\"</span><span class="s2">consecutiveWrong</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">consecutiveCorrect</span><span class="se">\"</span><span class="s2">:0}"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"remainingNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1698090652</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
          </span><span class="nl">"achievedLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOCFL1, HSK2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DETERMINE_LEVEL"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Exam query 可以根據 input parameters 回傳學生的 &quot;一個&quot; 或 &quot;多個&quot; 考題歷史紀錄。
<code>withDetails</code> 預設為 <code>false</code>(API 響應速度較快)，當需要取得學生的作答記錄時，在把 <code>withDetails</code> 設定為 <code>true</code>。</p>

<p>比較建議的做法是，可以先不傳<code>withDetails</code>(預設為<code>false</code>)，並且拿到學生的多個測驗歷史後，在讓學生點選某一個測驗，這時候在把 <code>withDetails</code>設定為<code>true</code> 並且傳(<code>accountId</code> + <code>sk</code>(學生選中的 sk))給 Exam API，這時 Exam API 就會把所有測驗細節回傳給學生。</p>
<h3 id='mutation-input-parameters-3'>Mutation Input Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId (required)</td>
<td>string</td>
<td>登入帳號 ID</td>
</tr>
<tr>
<td>sk (optional)</td>
<td>string</td>
<td>測驗的 sort key</td>
</tr>
<tr>
<td>examType (optional)</td>
<td>enum</td>
<td>考試種類(目前只有<code>DETERMINE_LEVEL</code>跟<code>ESSAY</code>)</td>
</tr>
<tr>
<td>withDetails (預設為 false)</td>
<td>boolean</td>
<td>學生的答案</td>
</tr>
</tbody></table>
<h3 id='response-4'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>string</td>
<td>登入帳號 ID</td>
</tr>
<tr>
<td>sk</td>
<td>Int</td>
<td>測驗的 sort key</td>
</tr>
<tr>
<td>nextQuestionId</td>
<td>string</td>
<td>下一題考題的 Id</td>
</tr>
<tr>
<td>questionDetails</td>
<td>AWSJSON</td>
<td>當前測驗的考試細節，包含學生選擇的答案與正確答案</td>
</tr>
<tr>
<td>remainingNumOfQuestion</td>
<td>Int</td>
<td>當前測驗剩下題數</td>
</tr>
<tr>
<td>startTime</td>
<td>Int</td>
<td>當前測驗的開始時間</td>
</tr>
<tr>
<td>status</td>
<td>enum</td>
<td>當前測驗的狀態</td>
</tr>
<tr>
<td>totalNumOfQuestion</td>
<td>Int</td>
<td>當前測驗總共的題數態</td>
</tr>
<tr>
<td>achievedLevel</td>
<td>String</td>
<td>學生達到的程度</td>
</tr>
<tr>
<td>type</td>
<td>enum</td>
<td>當前測驗的種類</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<aside class="notice">
Dahua GraphQL API 並不會回傳 4XX 或 5XX error.
</aside>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td>string</td>
<td>Error 訊息</td>
</tr>
<tr>
<td>error</td>
<td>boolean</td>
<td>是否有 Error</td>
</tr>
</tbody></table>

<blockquote>
<p>如果有 Error 會回傳以下 JSON，並顯示原因，</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"yourQueryOrMutation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unexpected error... the reason is ...."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>以下是個範例 (answerQuestion API 的 Error)：</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"answerQuestion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"nextQuestionId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"remainingNumOfQuestion"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"nextLevel"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"achievedLevel"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"examStatus"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exam status is COMPLETED, user can only answer the question for an IN_PROGRESS exam."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="graphql">graphql</a>
          </div>
      </div>
    </div>
  </body>
</html>
